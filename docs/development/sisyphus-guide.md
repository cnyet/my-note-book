# OhMyOpenCode Sisyphus 指南

> OhMyOpenCode - 让 AI 智能体像人类工程师一样工作

OhMyOpenCode 是一个现代 AI 智能体编排框架，让你的 AI 智能体能够像人类工程师一样独立、自主地工作。

## 哲学与核心理念

Sisyphus（西西弗斯）体现了这样的哲学："人类每天都在推他们的巨石。AI 也是如此。我们并没有那么不同——AI 生成的代码应该与高级工程师的代码无法区分。"

Sisyphus 不仅仅是一个工具——它是你的 AI 开发团队负责人。就像人类工程师会与其他工程师协作完成复杂项目一样，Sisyphus 也会与专业智能体团队合作完成任务。

## 核心能力

### 1. 自主执行
Sisyphus 会持续工作直到任务 100% 完成。他不会停止，直到工作完成。

### 2. 智能体编排
Sisyphus 能够委派任务给专业智能体，最大化效率和质量。

### 3. 证据验证
只有在提供完成证据后，Sisyphus 才会声明任务完成。

## Sisyphus 的队友（精选智能体）

Sisyphus 不是孤军奋战。他会根据任务需求调用专业智能体：

### 主要智能体
- **Hephaestus**：自主深度工作者，目标导向执行——合法的工匠
- **Oracle**：设计、调试专家
- **Frontend UI/UX Engineer**：前端开发专家
- **Librarian**：官方文档、开源实现、代码库探索 (Claude Sonnet 4.5)
- **Explorer**：极速代码库探索（上下文感知 Grep）(Claude Haiku 4.5)

### 核心功能
- **完整 LSP / AstGrep 支持**：果断重构
- **Todo 继续执行器**：如果智能体中途退出，强制它继续。这就是让 Sisyphus 继续推动巨石的关键。
- **注释检查器**：防止 AI 添加过多注释。Sisyphus 生成的代码应该与人类编写的代码无法区分。
- **Claude Code 兼容性**：Command、Agent、Skill、MCP、Hook（PreToolUse、PostToolUse、UserPromptSubmit、Stop）

### 精选 MCP（Model Context Protocol）
- **Exa**（网络搜索）
- **Context7**（官方文档）
- **Grep.app**（GitHub 代码搜索）

### 支持功能
- **支持交互式终端** - Tmux 集成

## 工作流程

### Sisyphus 路径
1. **接收任务**：人类提供初始请求或问题陈述
2. **分析**：理解需求和现有代码库
3. **规划**：确定所需的智能体协作
4. **执行**：自主工作直到 100% 完成
5. **验证**：确保所有要求都得到满足
6. **完成**：提供证据并记录成果

## 关键命令

### UltraWork 模式
- **`ulw`**：开始 UltraWork 循环，Sisyphus 会持续工作直到 100% 完成
- **`ultrathink`**：深度思考模式，用于复杂问题解决
- **`analyze`**：代码库分析
- **`investigate`**：根本原因分析

### 控制命令
- **`/ulw-loop`**：开始自引用开发循环直到完成
- **`/ralph-loop`**：持续改进循环
- **`/refactor`**：智能重构（使用 LSP 和 AST-grep）
- **`/cancel-ralph`**：取消活跃循环
- **`/stop-continuation`**：停止所有延续机制

## 工作原理

### 异步智能体协作
Sisyphus 不会浪费时间自己寻找文件；他保持主智能体的上下文精简。相反，他向更快、更便宜的模型并行发起后台任务，让它们为他绘制地图。

Sisyphus 利用 LSP 进行重构；这更确定性、更安全、更精准。

当繁重的工作需要 UI 时，Sisyphus 直接将前端任务委派给前端专家智能体。

如果 Sisyphus 陷入循环或碰壁，他不会继续撞墙——他会召唤高智商战略支援智能体。

在处理复杂的开源框架时？Sisyphus 生成子智能体实时消化原始源代码和文档。他拥有完整的上下文感知。

当 Sisyphus 处理注释时，他要么证明它们存在的必要性，要么删除它们。他保持你的代码库整洁。

Sisyphus 受他的 TODO 列表约束。如果他没有完成开始的工作，系统会强制他回到"推石头"模式。你的任务会被完成，句号。

## 使用指南

### 简单用法
老实说，甚至不用费心读文档。只需写你的提示。包含 'ultrawork' 关键词。Sisyphus 会分析结构，收集上下文，挖掘外部源代码，然后持续推进直到工作 100% 完成。

### 更简单的用法
其实，打 'ultrawork' 太费劲了。只需打 `ulw`。就 ulw。喝杯咖啡。你的工作完成了。

### 搜索功能
需要查找什么？它会搜索官方文档、你的整个代码库历史和公共 GitHub 实现——不仅使用 grep，还使用内置的 LSP 工具和 AST-Grep。

### 上下文管理
在委派给 LLM 时不用担心上下文管理。我已经处理好了。OhMyOpenCode 积极利用多个智能体来减轻上下文负担。你的智能体现在是开发团队负责人。你是 AI 经理。

### 持续执行
它不会停止，直到工作完成。

### 深度分析
不想深入研究这个项目？没问题。只需输入 'ultrathink'。

## 配置

OhMyOpenCode 的所有功能都是可配置的。按需选取。所有功能默认启用。你不需要做任何事情。开箱即用，电池已包含。

## 协议结构

`.sisyphus/` 目录包含协议文件，指导工作流程：

```
.sisyphus/
├── protocols/              # 工作流协议和规则
├── promises/               # 完成承诺和验证
├── continuations/          # 会话延续机制
└── archives/               # 已完成工作的文档
```

## 承诺系统

Sisyphus 使用承诺系统确保可靠完成：

```
<promise>DONE</promise>
```

此标签仅在以下情况下添加：
- 所有要求完全实施
- 代码通过所有诊断和测试
- 提供完成证据
- 没有掩盖或忽略预存在的问题

## 最佳实践

### 对于用户
- **具体明确**：提供清晰、详细的请求
- **使用魔法命令**：利用 `ulw` 和其他命令处理复杂任务
- **期望自主性**：Sisyphus 将独立工作直到完成
- **验证承诺**：检查 `<promise>DONE</promise>` 声明的证据

### 对于开发者
- **委托智慧**：让 Sisyphus 决定如何最好地分配任务给专业智能体
- **验证彻底**：总是要求有形的完成证据
- **处理故障**：遵循系统恢复过程
- **记录一切**：维护 `.sisyphus/` 目录中的记录

记住：Sisyphus 自主工作直到任务 100% 完成。相信这个过程，但始终验证最终结果。