# 穿搭秘书 (Outfit Secretary) 使用指南

穿搭秘书 (`OutfitAgent`) 结合实时天气数据和你的个人偏好，为你提供得体的每日着装建议。

## ✨ 功能介绍

*   **天气集成**：实时获取当前气温、降水概率、风速和空气质量。
*   **场景适配**：支持正式（商务）和休闲模式。
*   **交互式定制**：可以指定颜色偏好、舒适度要求或特殊场合。
*   **多维度建议**：包含主穿搭、备选方案、配饰和通勤提示。

## 💻 使用方式

### 直接运行脚本 (交互模式)

推荐直接运行 Python 脚本以获得完整的交互体验：

```bash
cd backend
python -m src.agents.outfit_agent
```

进入交互模式后，系统会依次询问：
1.  **特殊场合** (meeting/casual/sporty/none)
2.  **颜色偏好**
3.  **舒适度优先级** (1-5)

### 通过 CLI 集成运行
作为早间流程的一部分自动运行（使用默认偏好）：

```bash
python -m src.cli.main --step morning
```

## 🌡️ 天气集成

穿搭秘书使用 `WeatherClient` 获取数据。
*   **数据缺失处理**：如果 API 调用失败，会自动降级使用默认天气数据（上海，22°C，多云），确保服务不中断。
*   **预警支持**：如果检测到剧烈温差或降雨，会在建议中高亮显示。

## 👔 模式说明

### 正式模式
当系统检测到关键词（如 "meeting", "interview"）时，会切换到正式模式：
*   推荐西装、衬衫、皮鞋。
*   配色偏向深蓝、深灰等商务色。

### 休闲模式 (默认)
*   推荐 Polo 衫、卡其裤、休闲鞋。
*   注重舒适度和透气性。

## ⚙️ 用户偏好设置

目前用户偏好在 `src/agents/outfit_agent.py` 中定义（未来将支持外部配置）：

```python
self.user_preferences = {
    "style": "business_casual",      # 默认风格：商务休闲
    "preferred_colors": ["blue", "gray", "black", "white"],
    "avoid_colors": ["yellow"],      # 避免颜色
    "climate_preference": "slightly_warm"
}
```

## 📄 输出示例

```markdown
# 今日穿搭建议 - 2024年XX月XX日

## 👔 主要穿搭
### 上装
- 深蓝色牛津纺衬衫，外搭浅灰色针织背心
### 下装
- 卡其色直筒休闲裤
### 鞋履
- 棕色德比鞋

## 💡 穿搭小贴士
1. 今天有微雨，建议携带折叠伞。
2. 早晚温差较大，针织背心方便穿脱。
```
